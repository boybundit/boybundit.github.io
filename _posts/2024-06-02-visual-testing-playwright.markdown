---
layout: post
title: Visual Testing ‡∏î‡πâ‡∏ß‡∏¢ Playwright
slug: visual-testing-playwright
date: 2024-06-02 +0700
categories: programming
---

‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô web frontend test ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà business logic ‡∏°‡∏±‡∏ô‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà ‡πÄ‡∏ä‡πà‡∏ô

1. ‡∏°‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô code ‡∏ã‡πâ‡∏≥‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∂‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ‡∏ô‡∏∞
2. ‡∏°‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ï‡∏≤‡∏î‡∏π‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏î‡∏µ ‡πÄ‡∏ä‡πà‡∏ô ‡∏û‡∏ß‡∏Å spacing ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö figma ‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏°‡∏±‡πâ‡∏¢

‡∏à‡∏£‡∏¥‡∏á‡πÜ‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏±‡∏ô‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ test frontend ‡∏≠‡∏µ‡∏Å‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ [Visual Testing](https://docs.cypress.io/app/tooling/visual-testing) ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡πá‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤ assert DOM value ‡∏ó‡∏≥‡πÑ‡∏°‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà capture screen ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å render ‡πÅ‡∏•‡πâ‡∏ß assert pixel ‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡πÑ‡∏î‡πâ‡∏ß‡πà‡∏≤‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÅ‡∏ö‡∏ö pixel perfect! üéâ

‡πÇ‡∏î‡∏¢ [Playwright](https://playwright.dev/docs/test-snapshots) ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏°‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å‡πÜ ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ

```javascript
import { test, expect } from '@playwright/test';

test('visual test', async ({ page }) => {
  await page.goto('https://bundit.net');
  await expect(page).toHaveScreenshot(landing.png);
});
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏£‡∏≤‡∏°‡∏µ figma ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡πá export ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÑ‡∏ß‡πâ‡πÉ‡∏ô folder

![image](/assets/2024-06-02-visual-testing-playwright/snapshots.png){: .align-center}

‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ ‡∏Å‡πá‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ capture ‡∏£‡∏π‡∏õ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏±‡πà‡∏á

```sh
npx playwright test --update-snapshots
```

‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏û‡∏≠‡πÄ‡∏£‡∏≤‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡∏∞‡πÑ‡∏£ ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏¢‡∏≤‡∏Å verify ‡∏ß‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏´‡∏•‡∏±‡∏á render ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á pixel perfect ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡πá‡πÅ‡∏Ñ‡πà‡∏™‡∏±‡πà‡∏á

```sh
npx playwright test
```

‡∏ñ‡πâ‡∏≤‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤ web ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡∏î‡∏π report ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤ diff ‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô

```sh
npx playwright show-report
```

![image](/assets/2024-06-02-visual-testing-playwright/diff.png){: .align-center}

‡πÑ‡∏õ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ô‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö üöÄ

<https://github.com/boybundit/demo-visual-test>
